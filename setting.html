<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Menu Page UI</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Arial, sans-serif;}

body{
  background:#ffffff;
  color:#000000;
  transition:0.3s;
}
.dark{
  background:#000000;
  color:#ffffff;
}

.header{
  padding:12px 15px;
  font-size:26px;
  font-weight:700;
}

/* ACCOUNT BAR */
.profile-bar{
  display:flex;
  align-items:center;
  gap:15px;
  padding:18px;
  cursor:pointer;
}
.profile-bar img{
  width:80px;
  height:80px;
  border-radius:50%;
  object-fit:cover;
}
.profile-bar strong{
  font-size:20px;
}

/* RED BOX ONLY FOR TITLE */
.red-title-box{
  background:#ff1f64;
  color:white;
  padding:10px 14px;
  margin:12px;
  border-radius:14px;
  font-weight:700;
  text-align:center;
  box-shadow:0 3px 8px rgba(0,0,0,0.3);
  cursor:pointer;
}

/* CODE INPUTS */
.code-box{
  display:none;
  margin-top:10px;
  text-align:center;
}
.code-box input{
  width:45px;
  height:45px;
  text-align:center;
  font-size:20px;
  margin:4px;
}

.circle-row{
  display:flex;
  justify-content:center;
  gap:25px;
  margin-top:10px;
}
.circle-row img{
  width:70px;
  height:70px;
  border-radius:50%;
  border:2px solid #888;
  cursor:pointer;
}
.circle-row img.selected{
  border:3px solid orange;
}

.edit-page{
  display:none;
  padding:15px;
}
.edit-page input, .edit-page button{
  width:100%;
  padding:10px;
  margin-top:10px;
}

#congratsMsg{
  display:none;
  text-align:center;
  margin-top:20px;
  font-size:20px;
  font-weight:700;
  color:green;
}

/* LOGOUT FIXED BOTTOM RED BOX */
.logout-bottom{
  position:fixed;
  bottom:10px;
  left:0;
  right:0;
  background:#ff1f64;
  color:white;
  padding:14px;
  border-radius:14px;
  font-weight:700;
  text-align:center;
  margin:0 12px;
  box-shadow:0 3px 8px rgba(0,0,0,0.3);
  cursor:pointer;
}
</style>
</head>

<body id="page">

<div class="header">Menu</div>

<!-- ACCOUNT -->
<div class="profile-bar" onclick="openEdit()">
  <img id="profileImg" src="https://via.placeholder.com/150" onclick="changePhoto(event)">
  <div>
    <strong id="accountName">Profile info</strong><br>
    Account
  </div>
</div>

<input type="file" id="photoInput" accept="image/*" style="display:none" onchange="updatePhoto(this)">

<!-- EDIT ACCOUNT -->
<div class="edit-page" id="editPage">
  <h3>Edit Account</h3>
  <input type="text" id="firstName" placeholder="First Name">
  <input type="text" id="lastName" placeholder="Last Name">
  <button onclick="updateName()">Enter</button>
</div>

<!-- CODE BUTTON TITLE -->
<div class="red-title-box" onclick="showCode()">ENTER CODE</div>

<div class="code-box" id="codeBox">
  <input type="text" maxlength="1" oninput="handleInput(this,0)">
  <input type="text" maxlength="1" oninput="handleInput(this,1)">
  <input type="text" maxlength="1" oninput="handleInput(this,2)">
  <input type="text" maxlength="1" oninput="handleInput(this,3)">
</div>

<div id="congratsMsg">ðŸŽ‰ Congratulations! You opened Bakchodi AI ðŸŽ‰</div>

<!-- DARK MODE RED BOX -->
<div class="red-title-box" onclick="toggleDark()">DARK MODE</div>

<!-- RED BOX ONLY ON TEXT, NOT IMAGES -->
<div class="red-title-box">Select Character</div>

<div class="circle-row">
  <img src="https://cdn-icons-png.flaticon.com/512/706/706830.png"
       onclick="selectCharacter(this,'girl')">

  <img src="https://cdn-icons-png.flaticon.com/512/706/706807.png"
       onclick="selectCharacter(this,'boy')">

  <img src="https://cdn-icons-png.flaticon.com/512/4712/4712105.png"
       onclick="selectCharacter(this,'robot')">
</div>

<!-- MADE BY WITH RED BOX -->
<div class="red-title-box">
  (Made By:)<br>
  John / Khem / Himal
</div>

<!-- LOGOUT FIXED AT BOTTOM -->
<div class="logout-bottom" onclick="logout()">
  LOGOUT
</div>

<script>
/* ---------- LOAD SAVED DATA ---------- */
window.onload = function(){

  /* name */
  let saved = localStorage.getItem("accName");
  if(saved) document.getElementById("accountName").innerText = saved;

  /* image */
  let img = localStorage.getItem("accImg");
  if(img) document.getElementById("profileImg").src = img;

  /* secret code */
  if(localStorage.getItem("secretOK") === "yes"){
    document.getElementById("congratsMsg").style.display="block";
  }

  /* DARK MODE restore */
  if(localStorage.getItem("darkmode")==="on"){
    document.getElementById("page").classList.add("dark");
  }
};

/* ---------- DARK MODE SAVE ---------- */
function toggleDark(){
  const page=document.getElementById("page");
  page.classList.toggle("dark");

  if(page.classList.contains("dark")){
    localStorage.setItem("darkmode","on");
  } else {
    localStorage.setItem("darkmode","off");
  }
}

/* ---------- CODE ---------- */
function showCode(){
  document.getElementById("codeBox").style.display="block";
}
function handleInput(el,index){
  const inputs = document.querySelectorAll('.code-box input');
  el.value = el.value.replace(/[^0-9]/g,'');

  if(el.value && index < inputs.length-1){
    inputs[index+1].focus();
  }

  const code = Array.from(inputs).map(i=>i.value).join('');

  if(code==="2445"){
    document.getElementById("congratsMsg").style.display="block";
    document.getElementById("codeBox").style.display="none";
    localStorage.setItem("secretOK","yes");
    inputs.forEach(i=>i.value="");
  }
}

/* ---------- ACCOUNT ---------- */
function openEdit(){
  document.getElementById("editPage").style.display="block";
}

function updateName(){
  let f=document.getElementById("firstName").value;
  let l=document.getElementById("lastName").value;
  let name=(f+" "+l).trim();

  if(name){
    document.getElementById("accountName").innerText=name;
    localStorage.setItem("accName",name);
  }
  document.getElementById("editPage").style.display="none";
}

function changePhoto(e){
  e.stopPropagation();
  document.getElementById("photoInput").click();
}

function updatePhoto(input){
  const file=input.files[0];
  if(file){
    const reader=new FileReader();
    reader.onload=function(e){
      document.getElementById("profileImg").src=e.target.result;
      localStorage.setItem("accImg",e.target.result);
    };
    reader.readAsDataURL(file);
  }
}

/* ---------- CHARACTER VOICE ---------- */
function selectCharacter(el,type){
  document.querySelectorAll('.circle-row img')
    .forEach(i=>i.classList.remove('selected'));

  el.classList.add('selected');

  const msg=new SpeechSynthesisUtterance();

  if(type==="girl"){msg.text="You select girl voice"; msg.pitch=1.8;}
  if(type==="boy"){msg.text="You select boy voice"; msg.pitch=0.8;}
  if(type==="robot"){msg.text="You select robot voice"; msg.pitch=0.2;}

  speechSynthesis.cancel();
  speechSynthesis.speak(msg);
}

/* ---------- LOGOUT ---------- */
function logout(){
  alert("Logged out successfully");
}
</script>

</body>
</html>
